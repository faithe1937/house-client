{"ast":null,"code":"var _jsxFileName = \"/Users/faithe1937/Desktop/flatiron/projects/mod5/reactnewnew/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport Home from \"./components/home\";\nimport Nav from \"./components/nav\";\nimport Login from \"./components/Login\";\nimport Project from \"./components/project\";\nimport SignUp from \"./components/SignUp\"; // const GUEST_USER = { _guest: true, displayName: \"Guest\" };\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loginStatus = () => {\n      axios.get(\"http://localhost:3001/logged_in\", {\n        withCredentials: true\n      }).then(response => {\n        if (response.data.logged_in) {\n          this.handleLogin(response.data);\n        } else {\n          this.handleLogout();\n        }\n      }).catch(error => console.log(\"api errors:\", error));\n    };\n\n    this.handleLogin = data => {\n      this.setState({\n        isLoggedIn: true,\n        user: data.user\n      });\n    };\n\n    this.handleLogout = () => {\n      this.setState({\n        isLoggedIn: false,\n        user: {}\n      });\n    };\n\n    this.state = {\n      isLoggedIn: false,\n      user: {}\n    };\n  }\n\n  componentDidMount() {\n    this.loginStatus();\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      handleLogout: this.handleLogout,\n      loggedInStatus: this.state.isLoggedIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/project\",\n      exact: true,\n      component: Project,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: props => React.createElement(Login, Object.assign({}, props, {\n        handleLogin: this.handleLogin,\n        loggedInStatus: this.state.isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      render: props => React.createElement(Signup, Object.assign({}, props, {\n        handleLogin: this.handleLogin,\n        loggedInStatus: this.state.isLoggedIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/faithe1937/Desktop/flatiron/projects/mod5/reactnewnew/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Switch","Home","Nav","Login","Project","SignUp","App","Component","constructor","props","loginStatus","axios","get","withCredentials","then","response","data","logged_in","handleLogin","handleLogout","catch","error","console","log","setState","isLoggedIn","user","state","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport Home from \"./components/home\";\nimport Nav from \"./components/nav\";\nimport Login from \"./components/Login\";\nimport Project from \"./components/project\";\nimport SignUp from \"./components/SignUp\";\n\n// const GUEST_USER = { _guest: true, displayName: \"Guest\" };\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      user: {}\n    };\n  }\n  componentDidMount() {\n    this.loginStatus();\n  }\n\n  loginStatus = () => {\n    axios\n      .get(\"http://localhost:3001/logged_in\", { withCredentials: true })\n      .then(response => {\n        if (response.data.logged_in) {\n          this.handleLogin(response.data);\n        } else {\n          this.handleLogout();\n        }\n      })\n\n      .catch(error => console.log(\"api errors:\", error));\n  };\n\n  handleLogin = data => {\n    this.setState({\n      isLoggedIn: true,\n      user: data.user\n    });\n  };\n\n  handleLogout = () => {\n    this.setState({\n      isLoggedIn: false,\n      user: {}\n    });\n  };\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <Nav\n            handleLogout={this.handleLogout}\n            loggedInStatus={this.state.isLoggedIn}\n          />\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/project\" exact component={Project} />\n            <Route\n              exact\n              path=\"/login\"\n              render={props => (\n                <Login\n                  {...props}\n                  handleLogin={this.handleLogin}\n                  loggedInStatus={this.state.isLoggedIn}\n                />\n              )}\n            />\n            <Route\n              exact\n              path=\"/signup\"\n              render={props => (\n                <Signup\n                  {...props}\n                  handleLogin={this.handleLogin}\n                  loggedInStatus={this.state.isLoggedIn}\n                />\n              )}\n            />\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}